<?xml version="1.0" encoding="UTF-8"?>
<testsuite name="com.example.database.sakila_database.TestNestedRecords.TestMultiSet" tests="1" skipped="0" failures="0" errors="0" timestamp="2022-07-12T06:03:30" hostname="STEWS" time="0.253">
  <properties/>
  <testcase name="multisetAsCategoriesTest()" classname="com.example.database.sakila_database.TestNestedRecords.TestMultiSet" time="0.253"/>
  <system-out><![CDATA[23:03:29.586 [Test worker] INFO com.example.database.sakila_database.verifyData.VerifyDatabase.com.example.database.sakila_database.verifyData.VerifyDatabase - Connecting               
23:03:30.071 [Test worker] INFO com.example.database.sakila_database.verifyData.VerifyDatabase.com.example.database.sakila_database.verifyData.VerifyDatabase - Connected                
23:03:30.071 [Test worker] INFO com.example.database.TestDatabase.com.example.database.TestDatabase - Before class Connecting  
23:03:30.247 [Test worker] INFO org.jooq.Constants.org.jooq.Constants - 
                                      
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@  @@        @@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@        @@@@@@@@@@
@@@@@@@@@@@@@@@@  @@  @@    @@@@@@@@@@
@@@@@@@@@@  @@@@  @@  @@    @@@@@@@@@@
@@@@@@@@@@        @@        @@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@        @@        @@@@@@@@@@
@@@@@@@@@@    @@  @@  @@@@  @@@@@@@@@@
@@@@@@@@@@    @@  @@  @@@@  @@@@@@@@@@
@@@@@@@@@@        @@  @  @  @@@@@@@@@@
@@@@@@@@@@        @@        @@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@  @@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  Thank you for using jOOQ 3.16.6
                                      
23:03:30.249 [Test worker] INFO org.jooq.Constants.org.jooq.Constants - 

jOOQ tip of the day: Views (and table valued functions) are the most underrated SQL feature! They work very well together with jOOQ and jOOQ's code generator! https://www.jooq.org/doc/latest/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-table-valued-functions/

23:03:30.266 [Test worker] INFO com.example.database.TestDatabase.com.example.database.TestDatabase - Finished setup           
23:03:30.271 [Test worker] INFO com.example.database.TestDatabase.com.example.database.TestDatabase - Before each              
23:03:30.302 [Test worker] INFO com.example.database.TestDatabase.com.example.database.TestDatabase - checking string          
23:03:30.302 [Test worker] INFO com.example.database.TestDatabase.com.example.database.TestDatabase - checking query           
23:03:30.384 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener - Executing query          : set @t = @@group_concat_max_len; set @@group_concat_max_len = 4294967295; explain select `sakila`.`film`.`title`, (select coalesce(json_merge_preserve('[]', concat('[', group_concat(json_array(`v0`) separator ','), ']')), json_array()) from (select `category`.`name` as `v0` from `film_category` join `category` on `category`.`category_id` = `film_category`.`category_id` where `film_category`.`film_id` = `sakila`.`film`.`film_id`) as `t`) as `categories` from `sakila`.`film` where `sakila`.`film`.`title` like ? order by `sakila`.`film`.`title` limit ?; set @@group_concat_max_len = @t;
23:03:30.386 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener - -> with bind values      : set @t = @@group_concat_max_len; set @@group_concat_max_len = 4294967295; explain select `sakila`.`film`.`title`, (select coalesce(json_merge_preserve('[]', concat('[', group_concat(json_array(`v0`) separator ','), ']')), json_array()) from (select `category`.`name` as `v0` from `film_category` join `category` on `category`.`category_id` = `film_category`.`category_id` where `film_category`.`film_id` = `sakila`.`film`.`film_id`) as `t`) as `categories` from `sakila`.`film` where `sakila`.`film`.`title` like 'A%' order by `sakila`.`film`.`title` limit 5; set @@group_concat_max_len = @t;
23:03:30.444 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener - Affected row(s)          : 0
23:03:30.460 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener - Fetched result           : +----+------------------+-------------+----------+------+---------------------------------+---------+-------+--------------------------------+----+--------+------------------------+
23:03:30.460 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener -                          : |  id|select_type       |table        |partitions|type  |possible_keys                    |key      |key_len|ref                             |rows|filtered|Extra                   |
23:03:30.460 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener -                          : +----+------------------+-------------+----------+------+---------------------------------+---------+-------+--------------------------------+----+--------+------------------------+
23:03:30.460 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener -                          : |   1|PRIMARY           |film         |{null}    |range |idx_title                        |idx_title|767    |{null}                          |  46|   100.0|Using where; Using index|
23:03:30.460 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener -                          : |   2|DEPENDENT SUBQUERY|film_category|{null}    |ref   |PRIMARY,fk_film_category_category|PRIMARY  |4      |sakila.film.film_id             |   1|   100.0|Using index             |
23:03:30.460 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener -                          : |   2|DEPENDENT SUBQUERY|category     |{null}    |eq_ref|PRIMARY                          |PRIMARY  |4      |sakila.film_category.category_id|   1|   100.0|{null}                  |
23:03:30.460 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener -                          : +----+------------------+-------------+----------+------+---------------------------------+---------+-------+--------------------------------+----+--------+------------------------+
23:03:30.460 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener - Fetched row(s)           : 3
23:03:30.460 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener - Executing query          : set @t = @@group_concat_max_len; set @@group_concat_max_len = 4294967295; select `sakila`.`film`.`title`, (select coalesce(json_merge_preserve('[]', concat('[', group_concat(json_array(`v0`) separator ','), ']')), json_array()) from (select `category`.`name` as `v0` from `film_category` join `category` on `category`.`category_id` = `film_category`.`category_id` where `film_category`.`film_id` = `sakila`.`film`.`film_id`) as `t`) as `categories` from `sakila`.`film` where `sakila`.`film`.`title` like ? order by `sakila`.`film`.`title` limit ?; set @@group_concat_max_len = @t;
23:03:30.460 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener - -> with bind values      : set @t = @@group_concat_max_len; set @@group_concat_max_len = 4294967295; select `sakila`.`film`.`title`, (select coalesce(json_merge_preserve('[]', concat('[', group_concat(json_array(`v0`) separator ','), ']')), json_array()) from (select `category`.`name` as `v0` from `film_category` join `category` on `category`.`category_id` = `film_category`.`category_id` where `film_category`.`film_id` = `sakila`.`film`.`film_id`) as `t`) as `categories` from `sakila`.`film` where `sakila`.`film`.`title` like 'A%' order by `sakila`.`film`.`title` limit 5; set @@group_concat_max_len = @t;
23:03:30.475 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener - Affected row(s)          : 0
23:03:30.491 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener - Fetched result           : +----------------+---------------+
23:03:30.491 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener -                          : |title           |categories     |
23:03:30.491 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener -                          : +----------------+---------------+
23:03:30.491 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener -                          : |ACADEMY DINOSAUR|[(Documentary)]|
23:03:30.491 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener -                          : |ACE GOLDFINGER  |[(Horror)]     |
23:03:30.491 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener -                          : |ADAPTATION HOLES|[(Documentary)]|
23:03:30.491 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener -                          : |AFFAIR PREJUDICE|[(Horror)]     |
23:03:30.491 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener -                          : |AFRICAN EGG     |[(Family)]     |
23:03:30.491 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener -                          : +----------------+---------------+
23:03:30.491 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener - Fetched row(s)           : 5
23:03:30.491 [Test worker] INFO com.example.database.TestDatabase.com.example.database.TestDatabase - Creating filetest_multiset/multiset_as_categories_test
23:03:30.491 [Test worker] INFO com.example.database.sakila_database.verifyData.VerifyDatabase.com.example.database.sakila_database.verifyData.VerifyDatabase - Creating filetest_multiset/multiset_as_categories_test.txt
23:03:30.491 [Test worker] INFO com.example.database.TestDatabase.com.example.database.TestDatabase - writing output to file   
23:03:30.491 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener - Executing query          : 
set @t = @@group_concat_max_len;
set @@group_concat_max_len = 4294967295;
select
  `sakila`.`film`.`title`,
  (
    select coalesce(
      json_merge_preserve(
        '[]',
        concat(
          '[',
          group_concat(json_array(`v0`) separator ','),
          ']'
        )
      ),
      json_array()
    )
    from (
      select `category`.`name` as `v0`
      from `film_category`
        join `category`
          on `category`.`category_id` = `film_category`.`category_id`
      where `film_category`.`film_id` = `sakila`.`film`.`film_id`
    ) as `t`
  ) as `categories`
from `sakila`.`film`
where `sakila`.`film`.`title` like ?
order by `sakila`.`film`.`title`
limit ?;
set @@group_concat_max_len = @t;
23:03:30.491 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener - -> with bind values      : 
set @t = @@group_concat_max_len;
set @@group_concat_max_len = 4294967295;
select
  `sakila`.`film`.`title`,
  (
    select coalesce(
      json_merge_preserve(
        '[]',
        concat(
          '[',
          group_concat(json_array(`v0`) separator ','),
          ']'
        )
      ),
      json_array()
    )
    from (
      select `category`.`name` as `v0`
      from `film_category`
        join `category`
          on `category`.`category_id` = `film_category`.`category_id`
      where `film_category`.`film_id` = `sakila`.`film`.`film_id`
    ) as `t`
  ) as `categories`
from `sakila`.`film`
where `sakila`.`film`.`title` like 'A%'
order by `sakila`.`film`.`title`
limit 5;
set @@group_concat_max_len = @t;
23:03:30.507 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener - Affected row(s)          : 0
23:03:30.507 [Test worker] DEBUG org.jooq.impl.DefaultExecuteListener.org.jooq.impl.DefaultExecuteListener - Affected row(s)          : 0
23:03:30.507 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener - Fetched result           : +----------------+---------------+
23:03:30.507 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener -                          : |title           |categories     |
23:03:30.507 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener -                          : +----------------+---------------+
23:03:30.507 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener -                          : |ACADEMY DINOSAUR|[(Documentary)]|
23:03:30.507 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener -                          : |ACE GOLDFINGER  |[(Horror)]     |
23:03:30.507 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener -                          : |ADAPTATION HOLES|[(Documentary)]|
23:03:30.507 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener -                          : |AFFAIR PREJUDICE|[(Horror)]     |
23:03:30.507 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener -                          : |AFRICAN EGG     |[(Family)]     |
23:03:30.507 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener -                          : +----------------+---------------+
23:03:30.507 [Test worker] DEBUG org.jooq.tools.LoggerListener.org.jooq.tools.LoggerListener - Fetched row(s)           : 5
23:03:30.507 [Test worker] INFO com.example.database.TestDatabase.com.example.database.TestDatabase - tear down                
]]></system-out>
  <system-err><![CDATA[]]></system-err>
</testsuite>
