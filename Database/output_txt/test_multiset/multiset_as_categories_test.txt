test_multiset/multiset_as_categories_test
// Result<Record2<String, Result<Record1<String>>>>
column 2: categories by film title


Query Parts:
select
  "sakila"."film"."title",
  multiset(
    select "category"."name"
    from "film_category"
      join "category"
        on "category"."category_id" = "film_category"."category_id"
    where "film_category"."film_id" = "sakila"."film"."film_id"
  ) "categories"
from "sakila"."film"
where "sakila"."film"."title" like 'A%'
order by "sakila"."film"."title"
limit 5
Sql Stringset @t = @@group_concat_max_len;
set @@group_concat_max_len = 4294967295;
select
  `sakila`.`film`.`title`,
  (
    select coalesce(
      json_merge_preserve(
        '[]',
        concat(
          '[',
          group_concat(json_array(`v0`) separator ','),
          ']'
        )
      ),
      json_array()
    )
    from (
      select `category`.`name` as `v0`
      from `film_category`
        join `category`
          on `category`.`category_id` = `film_category`.`category_id`
      where `film_category`.`film_id` = `sakila`.`film`.`film_id`
    ) as `t`
  ) as `categories`
from `sakila`.`film`
where `sakila`.`film`.`title` like ?
order by `sakila`.`film`.`title`
limit ?;
set @@group_concat_max_len = @t;
The formatted plan as returned by the database:
 +----+------------------+-------------+----------+------+---------------------------------+---------+-------+--------------------------------+----+--------+------------------------+
|  id|select_type       |table        |partitions|type  |possible_keys                    |key      |key_len|ref                             |rows|filtered|Extra                   |
+----+------------------+-------------+----------+------+---------------------------------+---------+-------+--------------------------------+----+--------+------------------------+
|   1|PRIMARY           |film         |{null}    |range |idx_title                        |idx_title|767    |{null}                          |  46|   100.0|Using where; Using index|
|   2|DEPENDENT SUBQUERY|film_category|{null}    |ref   |PRIMARY,fk_film_category_category|PRIMARY  |4      |sakila.film.film_id             |   1|   100.0|Using index             |
|   2|DEPENDENT SUBQUERY|category     |{null}    |eq_ref|PRIMARY                          |PRIMARY  |4      |sakila.film_category.category_id|   1|   100.0|{null}                  |
+----+------------------+-------------+----------+------+---------------------------------+---------+-------+--------------------------------+----+--------+------------------------+

The cost the database associated with the execution of the query:  NaN
The estimated number of rows (cardinality) that is to be returned by the query: 46.0
The actual number of rows (cardinality) returned by the query:  5

Result Records:
  +----------------+---------------+
|title           |categories     |
+----------------+---------------+
|ACADEMY DINOSAUR|[(Documentary)]|
|ACE GOLDFINGER  |[(Horror)]     |
|ADAPTATION HOLES|[(Documentary)]|
|AFFAIR PREJUDICE|[(Horror)]     |
|AFRICAN EGG     |[(Family)]     |
+----------------+---------------+
